"use strict";function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}$(function(){$('input[name="f_phone"]').mask("+7 (999) 999-99-99"),$(".main-slider").slick({slidesToShow:1,slidesToScroll:1,dots:!1,arrows:!0,infinite:!1,asNavFor:".thumb-slider",prevArrow:$(".prev"),nextArrow:$(".next"),responsive:[{breakpoint:992,settings:{arrow:!1,dots:!0}}]}),$(".thumb-slider").slick({slidesToShow:8,slidesToScroll:1,dots:!1,infinite:!1,arrow:!1,asNavFor:".main-slider",focusOnSelect:!0,centerMode:!1,vertical:!0})});var siteMenu=document.querySelector(".header__nav");if(document.querySelector(".header__burger").addEventListener("click",function(){this.classList.toggle("active"),siteMenu.classList.toggle("active"),document.querySelector("body").classList.toggle("no-scroll")}),document.querySelector(".nav__dropdown").addEventListener("click",function(){this.classList.toggle("active"),document.querySelector(".menu").classList.toggle("active"),document.querySelector("body").classList.toggle("no-scroll")}),document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".tabs"),t=document.querySelectorAll(".tabs__btn"),n=document.querySelectorAll(".tabs__content");e&&e.addEventListener("click",function(e){if(e.target.classList.contains("tabs__btn")){var n=e.target.dataset.tabsPath;t.forEach(function(e){e.classList.remove("tabs__btn--active")}),document.querySelector('[data-tabs-path="'.concat(n,'"]')).classList.add("tabs__btn--active"),r(n)}if(e.target.classList.contains("tabs__arrow--prev")){var o=document.querySelector(".tabs__btn--active"),i=o.closest(".tabs__item"),a=i.previousElementSibling;if(a){var s=a.querySelector(".tabs__btn");t.forEach(function(e){e.classList.remove("tabs__btn--active")}),s.classList.add("tabs__btn--active");var c=s.dataset.tabsPath;r(c)}}if(e.target.classList.contains("tabs__arrow--next")){var l=document.querySelector(".tabs__btn--active"),u=l.closest(".tabs__item"),d=u.nextElementSibling;if(d){var f=d.querySelector(".tabs__btn");t.forEach(function(e){e.classList.remove("tabs__btn--active")}),f.classList.add("tabs__btn--active");var p=f.dataset.tabsPath;r(p)}}});var r=function(e){n.forEach(function(e){e.classList.remove("tabs__content--active")}),document.querySelector('[data-tabs-target="'.concat(e,'"]')).classList.add("tabs__content--active")}}),function(){var e=document.querySelectorAll(".accordion__header");e&&function(){var t,n=function(){var e,t=document.body.querySelectorAll(".accordion"),n=_createForOfIteratorHelper(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.classList.remove("is-active"),r.querySelector(".accordion__description").style.maxHeight=0}}catch(e){n.e(e)}finally{n.f()}return!0},r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){t.value.addEventListener("click",function(){var e=this.parentNode,t=this.nextElementSibling;e.classList.contains("is-active")?n():(n(),e.classList.toggle("is-active"),t.style.maxHeight="".concat(t.scrollHeight+16,"px"))})}}catch(e){r.e(e)}finally{r.f()}}()}(),document.querySelector(".s-catalog")){for(var filterCards=function(){var e=document.querySelectorAll(".card"),t=!1;e.forEach(function(e){var n=Object.values(e.dataset);Object.values(filters).every(function(e){return n.includes(e)})?(e.style.display="block",t=!0):e.style.display="none"}),document.querySelector(".card__not-found").style.display=t?"none":"block"},sortItemsAlphabet=function(){var e=document.querySelector(".card__wrapper"),t=Array.from(e.children);console.log(t),t.sort(function(e,t){var n=e.classList.contains("card"),r=t.classList.contains("card");if(n||r){if(n){if(r){var o=e.querySelector(".card__description .card__name").textContent,i=t.querySelector(".card__description .card__name").textContent;return o.localeCompare(i)}return-1}return 1}return 0}),t.forEach(function(t){e.appendChild(t)})},resetItems=function(){var e=document.querySelector(".card__wrapper"),t=Array.from(e.children);t.sort(function(){return Math.random()-.5}),t.forEach(function(t){e.appendChild(t)})},sortCardsByPriceLowerCoast=function(e){return e.sort(function(e,t){return parseInt(e.querySelector(" .card__description .card__coast").textContent.replace(/\s+/g,"").slice(0,-1))-parseInt(t.querySelector(" .card__description .card__coast").textContent.replace(/\s+/g,"").slice(0,-1))})},wrapCards=function(){var e=document.querySelector(".card__wrapper"),t=document.querySelectorAll("a.card");sortCardsByPriceLowerCoast(Array.from(t)).forEach(function(t){return e.appendChild(t)})},sortCardsByPriceUpper=function(e){return e.sort(function(e,t){return parseInt(t.querySelector(".card__description .card__coast").textContent.replace(/\s+/g,"").slice(0,-1))-parseInt(e.querySelector(".card__description .card__coast").textContent.replace(/\s+/g,"").slice(0,-1))})},wrapCardsUpper=function(){var e=document.querySelector(".card__wrapper"),t=document.querySelectorAll("a.card");sortCardsByPriceUpper(Array.from(t)).forEach(function(t){return e.appendChild(t)})},generateRandomNumberPopular=function(){return Math.floor(100*Math.random())},assignRandomPopularToCards=function(){var e=document.querySelectorAll("a.card"),t=new Set;e.forEach(function(e){for(var n=generateRandomNumberPopular();t.has(n);)n=generateRandomNumberPopular();t.add(n),e.dataset.popular=n})},sortCardsByPopularity=function(){var e=document.querySelectorAll("a.card"),t=Array.from(e).sort(function(e,t){return t.dataset.popular-e.dataset.popular}),n=document.querySelector(".card__wrapper");return t.forEach(function(e){return n.appendChild(e)}),n},handleFilterItemClick=function(e){var t=e.currentTarget,n=t.classList.contains("active");filterItems.forEach(function(e){return e.classList.remove("active")}),n?resetItems():(t.classList.add("active"),t.classList.contains("filter__alphabet")?sortItemsAlphabet():t.classList.contains("filter__lowcoast")?wrapCards():t.classList.contains("filter__upcoast")?wrapCardsUpper():t.classList.contains("filter__popular")&&sortCardsByPopularity())},handleFilterItemClickMobile=function(e){var t,n=e.currentTarget,r=n.classList.contains("active"),o=document.querySelector(".filter__sort-value");filterItemsMobile.forEach(function(e){return e.classList.remove("active")}),r?(resetItems(),o.textContent="Сортировать"):(n.classList.add("active"),n.classList.contains("filter__alphabet")?(sortItemsAlphabet(),t=n.textContent,o.textContent=t):n.classList.contains("filter__lowcoast")?(wrapCards(),t=n.textContent,o.textContent=t):n.classList.contains("filter__upcoast")?(wrapCardsUpper(),t=n.textContent,o.textContent=t):n.classList.contains("filter__popular")&&(sortCardsByPopularity(),t=n.textContent,o.textContent=t))},filterSideItem=document.querySelectorAll(".side__filter"),forNumberItemId=1,i=0;i<filterSideItem.length;i++)filterSideItem[i].dataset.id=forNumberItemId+1,forNumberItemId++;var filterMobileContainer=document.querySelector(".filter__check");document.querySelector(".btn-filter").addEventListener("click",function(){filterMobileContainer.classList.add("active"),document.querySelector("body").classList.add("no-scroll")}),document.querySelector(".btn-close--filter").addEventListener("click",function(){filterMobileContainer.classList.remove("active"),document.querySelector("body").classList.remove("no-scroll")}),document.querySelector(".filter__check .btn-primary").addEventListener("click",function(){filterMobileContainer.classList.remove("active"),document.querySelector("body").classList.remove("no-scroll")});var mobileShowFilter=document.querySelector(".filter__button-mobile .btn-filter");mobileShowFilter.addEventListener("click",function(){document.querySelector(" .filter__check").classList.add("active")});var filters={};document.querySelectorAll(".filter__type-element").forEach(function(e){e.addEventListener("click",function(e){document.querySelectorAll(".filter__type-element").forEach(function(t){t!==e.currentTarget&&t.classList.remove("active")}),e.currentTarget.classList.toggle("active");var t=e.currentTarget.closest(".filter__type").dataset.id;e.currentTarget.classList.contains("active")?filters[t]=e.currentTarget.dataset.type:delete filters[t],filterCards()})}),document.querySelectorAll(".side__filter").forEach(function(e){e.querySelectorAll(".side__filter-element").forEach(function(e){e.addEventListener("click",function(e){e.currentTarget.closest(".side__filter").querySelectorAll(".side__filter-element").forEach(function(t){t!==e.currentTarget&&t.classList.remove("active")}),e.currentTarget.classList.toggle("active");var t=e.currentTarget.closest(".side__filter").dataset.id;e.currentTarget.classList.contains("active")?filters[t]=e.currentTarget.dataset.filter:delete filters[t],filterCards()})})});var mobileSort=document.querySelector(".filter__sort-mobile");mobileSort.addEventListener("click",function(){document.querySelector(".filter__sort-mobile ul").classList.toggle("active")}),assignRandomPopularToCards();var filterSort=document.querySelector(".filter__sort"),filterItems=filterSort.querySelectorAll("li"),filterSortMobile=document.querySelector(".filter__sort-mobile"),filterItemsMobile=filterSortMobile.querySelectorAll("li");filterItems.forEach(function(e){return e.addEventListener("click",handleFilterItemClick)}),filterItemsMobile.forEach(function(e){return e.addEventListener("click",handleFilterItemClickMobile)});var rangeSlider=document.getElementById("range-slider");noUiSlider.create(rangeSlider,{start:[15e3,8e4],connect:!0,step:10,range:{min:[1e3],max:[2e5]}});var input0=document.getElementById("input-0"),input1=document.getElementById("input-1"),inputs=[input0,input1];rangeSlider.noUiSlider.on("update",function(e,t){inputs[t].value=Math.round(e[t]),document.querySelectorAll(".card").forEach(function(t){var n=t.querySelector(".card__coast").textContent,r=parseInt(n.replace(/\s+/g,""));r<e[0]||r>e[1]?t.classList.add("hide"):t.classList.remove("hide")})});var setRangeSlider=function(e,t){var n=[null,null];n[e]=t,rangeSlider.noUiSlider.set(n)};inputs.forEach(function(e,t){e.addEventListener("change",function(e){setRangeSlider(t,e.currentTarget.value),document.querySelectorAll(".card").forEach(function(e){var t=e.querySelector(".card__coast").textContent,n=parseInt(t.replace(/\s+/g,""));n<input0.value||n>input1.value?e.classList.add("hide"):e.classList.remove("hide")}),document.querySelector(".card__more").style.display="none"})})}if(document.querySelector(".s-element")){var itemPageTitle=document.querySelector(".element__name"),itemPageTitleText=itemPageTitle.childNodes[0].nodeValue.trim();console.log(itemPageTitleText);var itemPageButton=document.querySelector(".element__wrapper .btn-primary");itemPageButton.addEventListener("click",function(){document.querySelector(".modal .modal__title").textContent=itemPageTitleText})}var allCard=document.querySelectorAll(".card");allCard.forEach(function(e){e.addEventListener("click",function(){var t=e.querySelector(".card__name").textContent;document.querySelector(".modal .modal__title").textContent=t})}),$(function(){if($(window).width()<768){$(".card__more .btn-outline#hide").hide(),$(".card__more .btn-outline#show").hide();var e=$(".card"),t=12;e.length>t&&($(".card__more .btn-outline#show").show(),e.slice(t).hide()),$(".card__more .btn-outline#show").click(function(){e.show(),$(".card__more .btn-outline#show").hide(),$(".card__more .btn-outline#hide").show()}),$(".card__more .btn-outline#hide").click(function(){e.show(),$(".card__more .btn-outline#hide").hide(),$(".card__more .btn-outline#show").show(),e.length>t&&e.slice(t).hide()}),$('.card[style*="display: block"]').length>=12?$(".card-more").hide():$(".card-more").show()}}),$(document).ready(function(){$("[data-fancybox]").fancybox({infobar:!0,arrows:!0,backFocus:!1})});